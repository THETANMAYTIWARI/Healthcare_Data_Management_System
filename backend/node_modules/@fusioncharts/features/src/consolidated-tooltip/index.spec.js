"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");var _index=_interopRequireDefault(require("../../../../packages/fusioncharts/core/index"));var _bar2d=_interopRequireDefault(require("../../../../packages/fusioncharts/viz/bar2d"));var _ignoreCaseExt=_interopRequireDefault(require("../../../../packages/fc-features/src/ignore-case-ext"));var _utitilies=require("../../../../dev-tests/viz/utitilies");_index.default.addDep(_bar2d.default);_index.default.addDep(_ignoreCaseExt.default);describe("Bar 2D Regression test",(function(){var chartObj,tooltip,chartData={type:"bar2d",renderAt:_utitilies.CONTAINER_ID,width:"500",height:"400",dataFormat:"json",dataSource:{chart:{theme:"fusion",caption:"Top 5 Stores by Sales",subCaption:"Last month",yAxisName:"Sales (In USD)",numberPrefix:"$",alignCaptionWithCanvas:"0",nonce:"gWHj8y7bXNJWr/1fsqby0+1hXHk="},data:[{label:"Bakersfield Central",value:"880000"},{label:"Garden Groove harbour",value:"730000"},{label:"Los Angeles Topanga",value:"590000"},{label:"Compton-Rancho Dom",value:"520000"},{label:"Daly City Serramonte",value:"330000"}]}};beforeEach((function(){chartObj=(0,_utitilies.setup)(_index.default,chartData)}));afterEach((function(){chartObj&&!chartObj.disposed&&chartObj.dispose()}));it("Tooltip should not give CSP style-src error",(function(done){chartObj.addEventListener("renderComplete",(function(){chartObj.drawCrossline(1);setTimeout((function(){tooltip=document.querySelectorAll('[class*="fc__tooltip fusioncharts-div"]')[0];var styles=tooltip.querySelectorAll("style");var noncePresent=false;styles.forEach((function(style){if(style.getAttribute("nonce")){noncePresent=true}}));console.log(tooltip);expect(noncePresent).toBe(true);done()}),2e3)}));chartObj.render()}))}));