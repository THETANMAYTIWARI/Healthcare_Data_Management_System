"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");var _index=_interopRequireDefault(require("./index"));var _index2=_interopRequireDefault(require("../../../../../fusioncharts/core/index"));var _index3=_interopRequireDefault(require("../../../../../fc-timeseries/src/viz/timeseries/index"));var _index4=_interopRequireDefault(require("../../../../../fusioncharts/datastore/index"));var _utitilies=require("../../../../../../dev-tests/viz/utitilies");_index2.default.addDep(_index3.default);describe("To verify _checkPointOverMarker method",(function(){var dataMarker=new _index.default;var pinMarker=new _index.default;pinMarker.config.dataInfo=dataMarker.config.dataInfo=[{x:0,y:100},{x:40,y:100},{x:80,y:120},{x:120,y:120}];dataMarker.config.markerInfo=[{},{},{},{}];pinMarker.config.markerInfo=[{type:"pin"},{type:"pin"},{},{}];it("FM-TC-11: To verify if the method returns correct n'th marker index for specific case of pointer x,y inside the marker",(function(){var hovered=dataMarker._checkPointOverMarker(1,40,94);expect(hovered&&hovered.pointIndex).toBe(1)}));it("FM-TC-12: To verify if the method returns n'th plot when pointer x, y is on the edge of the plot",(function(){var point=pinMarker._checkPointOverMarker(1,40,100);expect(point&&point.pointIndex).toBe(1);point=dataMarker._checkPointOverMarker(1,48,74);expect(point&&point.pointIndex).toBe(1);point=dataMarker._checkPointOverMarker(1,40,74);expect(point&&point.pointIndex).toBe(1)}));it("FM-TC-13: To verify if the method does not return n'th plot when pointer x, y is out of the plot",(function(){var point=dataMarker._checkPointOverMarker(0,9,110);expect(point&&point.pointIndex).not.toBe(0);point=dataMarker._checkPointOverMarker(0,9,129);expect(point&&point.pointIndex).not.toBe(0);point=pinMarker._checkPointOverMarker(0,8,126);expect(point&&point.pointIndex).not.toBe(0);point=pinMarker._checkPointOverMarker(0,-8,126);expect(point&&point.pointIndex).not.toBe(0)}))}));describe("Timeseries data marker on correct date  ",(function(){var schema=[{name:"Time",type:"date",format:"%Y-%m-%d"},{name:"humid",type:"string"},{name:"Humidity Value",type:"number"}];var data=[["2024-04-01","Hum10K","49.3"],["2024-04-01","Hum1K","50.3"],["2024-04-02","Hum10K","48.6"],["2024-04-02","Hum1K","40.3"],["2024-04-03","Hum10K","49.8"],["2024-04-03","Hum1K","59.3"],["2024-04-04","Hum10K","59.8"],["2024-04-04","Hum1K","69.3"]];var fusionDataStore=new _index4.default;var fusionTable=fusionDataStore.createDataTable(data,schema);var mainConfig={width:"800",height:"550",id:"first_chart",type:"timeseries",dataSource:{chart:{paletteColors:"#ff0000,#0000ff",multicanvas:false},caption:{text:"Check"},yAxis:[{plot:[{value:"Humidity Value",title:"Humidity Value",connectnulldata:false}]}],datamarker:[{value:"Humidity Value",time:"2024-04-02",timeformat:"%Y-%m-%d",identifier:"B",type:"flag"},{value:"Humidity Value",time:"2024-04-03",timeformat:"%Y-%m-%d",identifier:"C",type:"pin"}],data:fusionTable},dataFormat:"json",renderAt:_utitilies.CONTAINER_ID},chartObj;beforeEach((function(){chartObj=(0,_utitilies.setup)(_index2.default,mainConfig)}));afterEach((function(){if(chartObj&&!chartObj.disposed)chartObj.dispose()}));it("Testing data marker on correct date ",(function(done){chartObj.addEventListener("renderComplete",(function(){setTimeout((function(){var expecetedY="218",exptectedMarkerName="B",markerGroup=document.querySelectorAll('[class$="-markerGroup-thermo"]')[0],paths=markerGroup.getElementsByTagName("text")[0],pathY=paths.getAttribute("y"),markerName=paths.innerHTML;expect(pathY).toBe(expecetedY);expect(markerName).toBe(exptectedMarkerName);done()}),2e3)}));chartObj.render()}))}));